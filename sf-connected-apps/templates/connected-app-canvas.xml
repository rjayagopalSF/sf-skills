<?xml version="1.0" encoding="UTF-8"?>
<!--
  Template: Connected App - Canvas App
  Use Case: Embedding external applications within Salesforce UI

  Replace placeholders:
  - {{APP_NAME}}: Application name (no spaces, alphanumeric + underscore)
  - {{CONTACT_EMAIL}}: Administrator contact email
  - {{DESCRIPTION}}: Brief description of the app's purpose
  - {{CANVAS_URL}}: URL of your canvas application
  - {{CALLBACK_URL}}: OAuth callback URL (must be HTTPS)

  Canvas Access Methods:
  - Chatter Feed: Embed in Chatter
  - Chatter Tab: Add to Chatter tab
  - Publisher: Add to publisher actions
  - Visualforce Page: Embed via Visualforce
  - Mobile Card: Show on mobile record pages
  - OpenCTI: Use in Service Cloud CTI
  - LayoutSection: Embed in page layouts
-->
<ConnectedApp xmlns="http://soap.sforce.com/2006/04/metadata">
    <label>{{APP_NAME}}</label>
    <contactEmail>{{CONTACT_EMAIL}}</contactEmail>
    <description>{{DESCRIPTION}}</description>

    <oauthConfig>
        <callbackUrl>{{CALLBACK_URL}}</callbackUrl>
        <isAdminApproved>true</isAdminApproved>
        <isConsumerSecretOptional>false</isConsumerSecretOptional>
        <scopes>Api</scopes>
        <scopes>RefreshToken</scopes>
    </oauthConfig>

    <oauthPolicy>
        <ipRelaxation>ENFORCE</ipRelaxation>
        <refreshTokenPolicy>infinite</refreshTokenPolicy>
    </oauthPolicy>

    <!-- Canvas Configuration -->
    <canvasConfig>
        <canvasUrl>{{CANVAS_URL}}</canvasUrl>
        <accessMethod>Get</accessMethod>

        <!-- Canvas Locations - uncomment as needed -->
        <locations>Chatter</locations>
        <locations>Visualforce</locations>
        <!-- <locations>ChatterFeed</locations> -->
        <!-- <locations>Publisher</locations> -->
        <!-- <locations>MobileNav</locations> -->
        <!-- <locations>OpenCTI</locations> -->
        <!-- <locations>LayoutSection</locations> -->

        <!-- Canvas Options -->
        <lifecycleClass></lifecycleClass>
        <options>HideHeader</options>
        <options>HideShare</options>

        <!-- SAML Initiation Method -->
        <samlInitiationMethod>None</samlInitiationMethod>
    </canvasConfig>
</ConnectedApp>
